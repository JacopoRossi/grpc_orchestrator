# Example Hybrid Schedule - Sequential and Timed Tasks
# This schedule demonstrates ALL available DSL parameters

schedule:
  name: "Hybrid Schedule Example"
  description: "Mix of sequential and timed tasks with all parameters"
  
  # Global defaults (optional)
  defaults:
    deadline_us: 1000000  # 1 second
    
  # Task definitions
  tasks:
    # Task 1: Sequential, no dependencies
    # Shows ALL available parameters for sequential mode
    - id: task_1
      address: "task1:50051"              # gRPC address (Docker hostname)
      mode: sequential                     # Execution mode: sequential or timed
      scheduled_time_us: 0                 # Start time (0 = immediately for sequential)
      deadline_us: 3000000                 # Task deadline (3 seconds)
      estimated_duration_us: 500000        # Estimated duration (500ms)
      # depends_on: ""                     # No dependency (empty or omitted)
      parameters:                          # Custom parameters passed to task
        mode: "fast"
        iterations: "100"
        # task_id is added automatically by parser
      
    # Task 2: Timed, executes at specific time
    # Shows ALL available parameters for timed mode
    - id: task_2
      address: "task2:50051"
      mode: timed                          # Timed execution mode
      scheduled_time_us: 8000000           # Execute at 8 seconds from start
      deadline_us: 1000000                 # Deadline (1 second after start)
      estimated_duration_us: 800000        # Estimated duration (800ms)
      parameters:
        mode: "normal"
        data_size: "1024"
      
    # Task 3: Sequential, depends on task_1
    # Shows dependency usage
    - id: task_3
      address: "task3:50051"
      mode: sequential
      scheduled_time_us: 0                 # Ignored for sequential (uses dependency)
      deadline_us: 3000000                 # 3 seconds deadline
      estimated_duration_us: 500000        # 500ms
      depends_on: task_1                   # Wait for task_1 to complete
      parameters:
        mode: "slow"
        quality: "high"
