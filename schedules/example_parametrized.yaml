# Example Schedule with Parametrized Tasks
# Task 1: input -> output = input * 5
# Task 2: input -> output = input + 1
# Task 3: input1 (from task_2), input2 -> output = input1 * input2

schedule:
  name: "Parametrized Tasks Example"
  description: "Tasks with input/output parameters and dependencies"
  
  # Global defaults (optional)
  defaults:
    deadline_us: 5000000  # 5 seconds
    
  # Task definitions
  tasks:
    # Task 1: Sequential, no dependencies
    # Input: 10, Output: 10 * 5 = 50
    - id: task_1
      address: "task1:50051"
      mode: sequential
      scheduled_time_us: 0
      deadline_us: 3000000
      estimated_duration_us: 500000
      rt_policy: "fifo"                  # SCHED_FIFO
      rt_priority: 30                    # Lower RT priority
      cpu_affinity: 0                    # CPU core 0
      parameters:
        input: "11"
      
    # Task 2: Timed execution at 2 seconds
    # Input: 5, Output: 5 + 1 = 6
    - id: task_2
      address: "task2:50052"
      mode: timed
      scheduled_time_us: 2000000
      deadline_us: 3000000
      estimated_duration_us: 500000
      rt_policy: "fifo"                  # SCHED_FIFO
      rt_priority: 30                    # Lower RT priority
      cpu_affinity: 1                    # CPU core 0
      parameters:
        input: "9"
      
    # Task 3: Sequential, depends on task_2
    # Input1: from task_2 (6), Input2: 7, Output: 6 * 7 = 42
    - id: task_3
      address: "task3:50053"
      mode: sequential
      scheduled_time_us: 0
      deadline_us: 3000000
      estimated_duration_us: 500000
      rt_policy: "fifo"                  # SCHED_FIFO
      rt_priority: 30                    # Lower RT priority
      cpu_affinity: 2                    # CPU core 0
      depends_on: task_1
      parameters:
        input2: "22"
